import{u as k,a as j,m as S,j as e,G as n,W as u}from"./index-DWbgnnz5.js";import{r as l,g as O,X as P,U as p,J as T,K as z,O as C}from"./ui-DVQGuqmb.js";import{u as E}from"./navigationCallback-Dv4a5ajJ.js";import"./vendor-gH-7aFTg.js";const L=({isOpen:o=!0,onClose:a,enableCallback:i=!1})=>{const{user:t,signOut:d}=k(),h=j(),[b]=S(),{smartGoBack:x}=E(b),[r,v]=l.useState("profile"),[c,m]=l.useState({theme:"auto",language:"ko",notifications:!0,emailNotifications:!0});l.useEffect(()=>{const s=localStorage.getItem("moonwaveTravelPreferences");if(s)try{m(JSON.parse(s))}catch(y){console.error("Failed to parse preferences:",y)}},[]);const f=s=>{m(s),localStorage.setItem("moonwaveTravelPreferences",JSON.stringify(s))},N=async()=>{try{await d(),a&&a(),i?x(h,"/login"):h("/login")}catch(s){console.error("Logout failed:",s),alert("로그아웃에 실패했습니다.")}},w=()=>{a?a():i&&x(h,"/")};if(!o)return null;const g=[{id:"profile",label:"프로필",icon:p},{id:"notifications",label:"알림",icon:T},{id:"privacy",label:"개인정보",icon:z}];return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs(n,{variant:"strong",className:"w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(O,{className:"w-8 h-8 text-travel-blue"}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"설정"})]}),(a||i)&&e.jsx("button",{onClick:w,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(P,{className:"w-5 h-5 text-white"})})]}),e.jsxs("div",{className:"flex h-[600px]",children:[e.jsxs("div",{className:"w-64 bg-white/5 p-4",children:[e.jsx("nav",{className:"space-y-2",children:g.map(s=>e.jsxs("button",{onClick:()=>v(s.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all ${r===s.id?"bg-travel-blue text-white":"text-white/70 hover:bg-white/10"}`,children:[e.jsx(s.icon,{size:20}),e.jsx("span",{children:s.label})]},s.id))}),e.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:e.jsxs(u,{variant:"secondary",size:"sm",onClick:N,className:"w-full",children:[e.jsx(C,{size:16,className:"mr-2"}),"로그아웃"]})})]}),e.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[r==="profile"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"프로필 정보"}),e.jsxs(n,{variant:"light",className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-travel-blue to-travel-purple flex items-center justify-center overflow-hidden",children:t?.photoURL?e.jsx("img",{src:t.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx(p,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:t?.displayName||t?.email?.split("@")[0]||"사용자"}),e.jsx("p",{className:"text-white/60",children:t?.email})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"이메일"}),e.jsx("input",{type:"email",value:t?.email||"",disabled:!0,className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"표시 이름"}),e.jsx("input",{type:"text",value:t?.displayName||"",disabled:!0,className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white",placeholder:"설정된 이름이 없습니다"})]})]})]})]}),r==="notifications"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"알림 설정"}),e.jsx(n,{variant:"light",className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium",children:"푸시 알림"}),e.jsx("p",{className:"text-white/60 text-sm",children:"여행 일정 및 중요 알림을 받습니다"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.notifications,onChange:s=>f({...c,notifications:s.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-white/20 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-travel-blue"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium",children:"이메일 알림"}),e.jsx("p",{className:"text-white/60 text-sm",children:"중요한 업데이트를 이메일로 받습니다"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.emailNotifications,onChange:s=>f({...c,emailNotifications:s.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-white/20 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-travel-blue"})]})]})]})})]}),r==="privacy"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"개인정보 보호"}),e.jsx(n,{variant:"light",className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium mb-2",children:"데이터 보호"}),e.jsx("p",{className:"text-white/70 text-sm mb-4",children:"모든 개인정보는 안전하게 암호화되어 저장됩니다."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium mb-2",children:"계정 보안"}),e.jsx("p",{className:"text-white/70 text-sm mb-4",children:"Firebase Authentication을 통해 안전하게 관리됩니다."})]}),e.jsx("div",{className:"pt-4 border-t border-white/10",children:e.jsx(u,{variant:"secondary",size:"sm",onClick:()=>alert("계정 삭제 기능은 관리자에게 문의해주세요."),children:"계정 삭제"})})]})})]})]})]})]})})},I=()=>{const o=j(),[a,i]=l.useState(!1);l.useEffect(()=>{const d=setTimeout(()=>{i(!0)},100);return()=>clearTimeout(d)},[]);const t=()=>{i(!1),o("/")};return e.jsx(L,{isOpen:a,onClose:t})};export{I as Settings};
//# sourceMappingURL=Settings-DFywdkap.js.map
