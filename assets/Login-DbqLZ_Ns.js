import{a as H,u as $,j as e,G as C,W as S}from"./index-BLdSJBwv.js";import{r as i,L as k,w as f,x as O,y as P,z,D as L}from"./ui-DVQGuqmb.js";import"./vendor-gH-7aFTg.js";function J(){const[s,w]=i.useState(!1),[r,E]=i.useState(""),[o,m]=i.useState(""),[v,u]=i.useState(""),[p,g]=i.useState(""),[c,G]=i.useState(!1),[d,M]=i.useState(!1),[j,a]=i.useState(""),[h,b]=i.useState(!1),[x,N]=i.useState(!1),y=H(),{signInWithEmailAndPassword:I,signUpWithEmailAndPassword:A,signInWithGoogle:W,resetPassword:q}=$(),B=async()=>{if(!r.trim()){a("먼저 이메일을 입력해주세요.");return}try{a(""),await q(r),alert("비밀번호 재설정 링크를 이메일로 발송했습니다. 이메일을 확인해주세요.")}catch(t){let l="비밀번호 재설정에 실패했습니다.";t.code==="auth/user-not-found"?l="존재하지 않는 이메일입니다.":t.code==="auth/invalid-email"&&(l="올바른 이메일 주소를 입력해주세요."),a(l)}},F=()=>{if(!r||!o)return a("이메일과 비밀번호를 입력해주세요."),!1;if(s){if(!p.trim())return a("이름을 입력해주세요."),!1;if(o.length<6)return a("비밀번호는 최소 6자 이상이어야 합니다."),!1;if(o!==v)return a("비밀번호가 일치하지 않습니다."),!1}return!0},U=async t=>{if(t.preventDefault(),a(""),!!F()){b(!0);try{s?await A(r,o,p):await I(r,o),y("/")}catch(l){let n=l.message||"오류가 발생했습니다.";l.code==="auth/email-already-in-use"?n="이미 사용 중인 이메일입니다.":l.code==="auth/weak-password"?n="비밀번호가 너무 약합니다.":l.code==="auth/user-not-found"?n="존재하지 않는 계정입니다.":l.code==="auth/wrong-password"?n="비밀번호가 틀렸습니다.":l.code==="auth/invalid-email"?n="올바른 이메일 주소를 입력해주세요.":l.code==="auth/user-disabled"&&(n="비활성화된 계정입니다."),a(n)}finally{b(!1)}}},D=async()=>{a(""),N(!0);try{await W(),y("/")}catch(t){a(t.message||"Google 로그인에 실패했습니다.")}finally{N(!1)}};return e.jsx("main",{className:"min-h-screen flex items-center justify-center p-4 relative","aria-label":"로그인 페이지",children:e.jsx("div",{className:"w-full max-w-md sm:max-w-lg md:max-w-xl mx-auto px-4 sm:px-0 relative z-10",children:e.jsxs(C,{variant:"strong",className:"p-6 sm:p-8 animate-fade-in",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-5xl mb-4 animate-bounce-gentle",children:"🌊"}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2 text-glow",children:"Moonwave Travel"}),e.jsx("p",{className:"text-white/80 text-lg",children:"여행의 모든 순간을 담다"})]}),e.jsxs("div",{className:"flex mb-6 bg-white/10 rounded-lg p-1",children:[e.jsxs("button",{type:"button",onClick:()=>{w(!1),a(""),m(""),u(""),g("")},className:`flex-1 py-2 px-4 rounded-md transition-all text-sm font-medium ${s?"text-white/70 hover:text-white hover:bg-white/10":"bg-primary-500 text-white shadow-lg"}`,children:[e.jsx(k,{className:"w-4 h-4 inline mr-2"}),"로그인"]}),e.jsxs("button",{type:"button",onClick:()=>{w(!0),a(""),m(""),u("")},className:`flex-1 py-2 px-4 rounded-md transition-all text-sm font-medium ${s?"bg-primary-500 text-white shadow-lg":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[e.jsx(f,{className:"w-4 h-4 inline mr-2"}),"회원가입"]})]}),j&&e.jsx(C,{variant:"light",className:"p-4 mb-6 border-red-500/50 bg-red-500/10",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"text-red-400",children:"⚠️"}),e.jsx("p",{className:"text-sm text-white",children:j})]})}),e.jsx(S,{type:"button",variant:"secondary",size:"lg",className:"w-full mb-4",onClick:D,disabled:x,children:e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx("div",{className:"w-5 h-5",children:e.jsxs("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),e.jsx("span",{children:x?"Google 로그인 중...":"Google로 로그인"})]})}),e.jsxs("div",{className:"my-6 relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-white/20"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"bg-transparent px-2 text-white",children:"또는"})})]}),e.jsxs("form",{onSubmit:U,className:"space-y-6",children:[s&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"이름"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(f,{className:"h-5 w-5 text-white"})}),e.jsx("input",{type:"text",value:p,onChange:t=>g(t.target.value),className:`
                      glass-card w-full pl-10 pr-4 py-3 rounded-lg 
                      text-base text-white placeholder-white/50 
                      focus:outline-none focus:ring-2 
                      focus:ring-primary-500/50 focus:border-transparent
                      transition-all
                    `,placeholder:"이름을 입력하세요",required:s})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"이메일"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(O,{className:"h-5 w-5 text-white"})}),e.jsx("input",{type:"email",value:r,onChange:t=>E(t.target.value),className:`
                    glass-card w-full pl-10 pr-4 py-3 rounded-lg 
                    text-base text-white placeholder-white/50 
                    focus:outline-none focus:ring-2 
                    focus:ring-primary-500/50 focus:border-transparent
                    transition-all
                  `,placeholder:"이메일을 입력하세요",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"비밀번호"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(P,{className:"h-5 w-5 text-white"})}),e.jsx("input",{type:c?"text":"password",value:o,onChange:t=>m(t.target.value),className:`
                    glass-card w-full pl-10 pr-12 py-3 rounded-lg 
                    text-base text-white placeholder-white/50 
                    focus:outline-none focus:ring-2 
                    focus:ring-primary-500/50 focus:border-transparent
                    transition-all
                  `,placeholder:s?"비밀번호 (최소 6자)":"비밀번호를 입력하세요",required:!0,minLength:s?6:void 0}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-white/20 transition-all duration-200 min-w-[44px] min-h-[44px]",onClick:()=>G(!c),disabled:h||x,"aria-label":c?"비밀번호 숨기기":"비밀번호 보기",children:c?e.jsx(z,{className:"h-5 w-5 text-white hover:text-white/60 transition-colors"}):e.jsx(L,{className:"h-5 w-5 text-white hover:text-white/60 transition-colors"})})]})]}),s&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"비밀번호 확인"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(P,{className:"h-5 w-5 text-white"})}),e.jsx("input",{type:d?"text":"password",value:v,onChange:t=>u(t.target.value),className:`
                      glass-card w-full pl-10 pr-12 py-3 rounded-lg 
                      text-base text-white placeholder-white/50 
                      focus:outline-none focus:ring-2 
                      focus:ring-primary-500/50 focus:border-transparent
                      transition-all
                    `,placeholder:"비밀번호를 다시 입력하세요",required:s}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-white/20 transition-all duration-200 min-w-[44px] min-h-[44px]",onClick:()=>M(!d),disabled:h||x,"aria-label":d?"비밀번호 숨기기":"비밀번호 보기",children:d?e.jsx(z,{className:"h-5 w-5 text-white hover:text-white/60 transition-colors"}):e.jsx(L,{className:"h-5 w-5 text-white hover:text-white/60 transition-colors"})})]})]}),e.jsx(S,{type:"submit",variant:"primary",size:"lg",className:"w-full",disabled:h,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s?e.jsx(f,{size:20}):e.jsx(k,{size:20}),e.jsx("span",{children:h?s?"회원가입 중...":"로그인 중...":s?"회원가입":"로그인"})]})})]}),!s&&e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{type:"button",onClick:B,className:"text-sm text-white/70 hover:text-white hover:underline transition-colors",children:"비밀번호를 잊으셨나요?"})})]})})})}export{J as Login};
//# sourceMappingURL=Login-DbqLZ_Ns.js.map
